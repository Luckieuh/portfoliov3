generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Category {
  id           Int            @id @default(autoincrement())
  name         String         @unique
  Realisations Realisations[]
}

model RealisationImage {
  id            Int          @id @default(autoincrement())
  url           String
  position      Int          @default(0)
  realisationId Int
  createdAt     DateTime     @default(now())
  updatedAt     DateTime     @default(now())
  Realisations  Realisations @relation(fields: [realisationId], references: [id], onDelete: Cascade)
}

model Realisations {
  id               Int                @id @default(autoincrement())
  title            String
  description      String
  location         String?
  imageUrl         String?
  videoUrl         String?
  youtubeUrl       String?
  link             String?
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @default(now())
  RealisationImage RealisationImage[]
  Category         Category[]
  Tag              Tag[]
}

model SiteImage {
  id        Int      @id @default(autoincrement())
  key       String   @unique
  url       String
  updatedAt DateTime @default(now())
}

model Tag {
  id           Int            @id @default(autoincrement())
  name         String         @unique
  Realisations Realisations[]
}

model admin {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
}
